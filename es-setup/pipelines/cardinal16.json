{ "description":"Derive 16-point compass from degrees", "processors":[ { "script": { "source":"String[] d=new String[]{'N','NNE','NE','ENE','E','ESE','SE','SSE','S','SSW','SW','WSW','W','WNW','NW','NNW'}; def deg=params.deg != null ? params.deg : ctx?.camera?.heading?.deg; if (deg!=null){ def x=((deg%360)+360)%360; def idx=(int)Math.floor((x+11.25)/22.5)%16; ctx.camera.heading.cardinal_16=d[idx]; }", "params":{"deg":null} } } ] }
